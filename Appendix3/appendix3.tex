\chapter{Code Examples}

\begin{figure}
\label{code:node-interface}
\begin{lstlisting}[frame=tb]
type Node interface {
	Eval(*variables.Scope, *IOContainer) ExitStatus
}

type NodeIf struct {
	Condition Node
	Else      *NodeIf
	Body      Node
}

func (n NodeIf) Eval(scp *variables.Scope, ioc *IOContainer) ExitStatus {
	runBody := n.Condition.Eval(scp, ioc)
	if runBody == ExitSuccess {
		return n.Body.Eval(scp, ioc)
	}
	if n.Else != nil {
		return n.Else.Eval(scp, ioc)
	}
	return ExitSuccess
}     
\end{lstlisting}
\caption[The Node Interface]{The Node interface used in the AST. Also shows the NodeIf as an example of implementation. Interfaces are implicitly satisfied if the type has the required methods.}
\end{figure}